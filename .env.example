# Database connection string for PostgreSQL
# Format: postgres://username:password@host:port/database_name
DATABASE_URL=postgres://postgres:postgres@localhost:5432/matcha_time

# Maximum number of database connections in the pool
# Default: 10 (suitable for development)
# Production: Consider 20-50 depending on load and database capacity
DATABASE_MAX_CONNECTIONS=10

# Google OAuth 2.0 credentials
# Obtain these from: https://console.cloud.google.com/apis/credentials
# Required scopes: email, profile
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# OAuth redirect URL after successful authentication
# Must match the redirect URI configured in Google Console
# Example: http://localhost:3000/auth/callback
REDIRECT_URL=

# Secret key for signing JWT tokens (user authentication)
# IMPORTANT: Use a strong, random string (minimum 32 characters recommended)
# Generate with: openssl rand -base64 32
JWT_SECRET=

# Secret key for encrypting cookies (OIDC flow, auth tokens)
# IMPORTANT: Must be at least 64 bytes for secure cookie encryption
# Generate with: openssl rand -base64 64
COOKIE_SECRET=

# Environment: "development" allows HTTP cookies, anything else requires HTTPS
# IMPORTANT: Remove or set to "production" for deployment
ENV=production

# Server Configuration
# Port to run the server on (default: 3000)
# Useful for running multiple instances or deployment environments
PORT=3000

# Maximum request body size in bytes (default: 2097152 = 2MB)
# Protects against DOS attacks via large payloads
# Format: bytes (e.g., 2097152 for 2MB, 10485760 for 10MB)
MAX_REQUEST_BODY_SIZE=2097152

# Request timeout in seconds (default: 30)
# Prevents long-running requests from tying up resources
REQUEST_TIMEOUT_SECONDS=30

# Frontend URL for OAuth popup callback (postMessage target origin)
FRONTEND_URL=http://localhost:8080

# Cookie domain for cross-subdomain cookie sharing
# Development: localhost
# Production: .matcha-time.dev (with leading dot for subdomain support)
COOKIE_DOMAIN=localhost

# CORS: Comma-separated list of allowed origins for production
# Example: ALLOWED_ORIGINS=https://matcha-time.com,https://app.matcha-time.com
ALLOWED_ORIGINS=http://localhost:8080

# Rate Limiting: Number of requests allowed per second per IP address
# Default: 2 requests per second
RATE_LIMIT_PER_SECOND=2

# Rate Limiting: Maximum burst size (number of requests that can be made in a burst)
# Default: 100 requests
RATE_LIMIT_BURST_SIZE=100

# Email / SMTP Configuration (Optional - for password reset emails)
# If not configured, password reset tokens will be printed to console
# For Resend SMTP:
# - Host: smtp.resend.com
# - Username: resend
# - Password: Your Resend API key
# - Ports: 25, 465, 587, 2465, or 2587 (587 is default via SmtpTransport::relay)
# SMTP_HOST=smtp.resend.com
# SMTP_USERNAME=resend
# SMTP_PASSWORD=re_YourResendApiKey
# SMTP_FROM_EMAIL=noreply@matcha-time.dev
# SMTP_FROM_NAME="Matcha Time"